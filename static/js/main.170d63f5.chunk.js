(this.webpackJsonpexcel2pic=this.webpackJsonpexcel2pic||[]).push([[0],{36:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(7),i=a.n(c),o=a(26),s=a.n(o),d=(a(36),a(27)),l=a(28),r=a(31),u=a(30),h=a(8),g=a.n(h),v=(a(77),a(76),function(e){Object(r.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).initStage=function(){for(var e=n.state,t=e.canvasWidth,a=e.canvasHeight,c=new g.a.Stage({x:0,y:0,container:"container",width:t,height:a}),i=0;i<3;i++)n.addBox(c,i)},n.addBox=function(e,t){var a=n.state,c=a.canvasWidth,i=a.boxArray,o=new g.a.Layer,s=new g.a.Group({Zindex:10,x:c/2-50,y:10+40*t,width:100,height:25,fill:"#00D2FF",stroke:"black",strokeWidth:4,draggable:!0});s.add(new g.a.Rect({width:100,height:25,fill:"lightblue"})),s.add(new g.a.Text({text:i[t],fontSize:18,fontFamily:"Calibri",fill:"#000",width:100,padding:5,align:"center"})),s.on("mouseover",(function(){document.body.style.cursor="pointer"})),s.on("mouseout",(function(){document.body.style.cursor="default"})),o.add(s),e.add(o),n.setState({stage:e})},n.download=function(){var e=n.state.stage,t=document.createElement("a"),a=new MouseEvent("click");t.download="test.jpg",t.href=e.toDataURL({pixelRatio:1}),t.dispatchEvent(a)},n.handleImageChange=function(e){var t=new FileReader,a=e.target.files[0];t.onloadend=function(){n.setState({imageUrl:t.result}),n.image2Canvas()},t.readAsDataURL(a)},n.image2Canvas=function(e){var t=n.state,a=t.canvasWidth,c=t.canvasHeight,i=t.imageUrl,o=new g.a.Layer,s=new window.Image;s.onload=function(){var e=n.state.stage,t=new g.a.Image({x:0,y:0,image:s,width:a,height:c});o.add(t),o.batchDraw(),e.add(o);for(var i=0;i<3;i++)n.addBox(e,i);n.setState({stage:e})},s.src=i},n.download=function(){var e=n.state.stage,t=document.createElement("a"),a=new MouseEvent("click");t.download="test.jpg",t.href=e.toDataURL(),t.dispatchEvent(a)},n.state={image:null,imageUrl:"",stage:null,canvasWidth:250,canvasHeight:250,boxArray:["\u8a3a\u6240\u540d\u7a31","\u8a55\u8ad6\u8005","\u8a55\u8ad6"]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.initStage()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("div",{className:"topBlock",children:Object(n.jsx)("div",{className:"topText",children:"excel2picture demo"})}),Object(n.jsxs)("div",{className:"cotentBlock",children:[Object(n.jsxs)("div",{className:"uploadBlock",children:[Object(n.jsxs)("div",{className:"uploadBgBlock",children:[Object(n.jsx)("input",{type:"file",onChange:this.handleImageChange,accept:"image/*"}),Object(n.jsx)("div",{className:"container",id:"container"})]}),Object(n.jsx)("div",{className:"uploadExcelBlock",children:Object(n.jsx)("span",{children:"excelBlock"})})]}),Object(n.jsx)("button",{className:"readyButton",onClick:this.download,children:"\u958b\u59cb\u751f\u6210\u5716\u7247"})]})]})}}]),a}(i.a.Component)),m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),m()}},[[78,1,2]]]);
//# sourceMappingURL=main.170d63f5.chunk.js.map